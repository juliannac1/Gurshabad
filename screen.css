/* Global overflow protection */
html {
  overflow-x: hidden;
  max-width: 100%;
}

* {
  box-sizing: border-box;
}

/* Remove overflow from specific elements that shouldn't scroll */
.menu, .navbar, nav, header {
  overflow: visible !important;
}

/* Raag carousel integration */
#raag-carousel {
  min-height: 50vh;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 2rem 1rem;
  margin-top: 2rem; /* Add space between menu and carousel */
  overflow-x: hidden; /* Prevent carousel overflow */
  max-width: 100vw;
}

.gurbani-font {
  font-family: 'GurbaniAkhar', 'NotoSansGurmukhi', 'Saab', 'Raavi', 'Nirmala UI', 'Mukta Mahee', 'Arial Unicode MS', 'Noto Sans Gurmukhi', sans-serif;
}
/* Remove missing font
@font-face {
  font-family: 'SF';
  src: url('fonts/SF-Pro-Display-Regular.otf') format('opentype');
}
*/

@font-face {
  font-family: 'GurbaniAkhar';
  src: url('fonts/GurbaniAkharTrue.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
}

@font-face {
  font-family: 'GurbaniAkharHeavy';
  src: url('fonts/GurbaniAkharHeavyTrue.ttf') format('truetype');
  font-weight: bold;
  font-style: normal;
}

@font-face {
  font-family: 'NotoSansGurmukhi';
  src: url('fonts/NotoSansGurmukhiTrue.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
}

@font-face {
  font-family: 'NotoSansGurmukhi';
  src: url('fonts/NotoSansGurmukhiBoldTrue.ttf') format('truetype');
  font-weight: bold;
  font-style: normal;
}


/* ------------- background ------------------------------- */

body{
  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, 'Noto Sans', sans-serif;
  background-image: url('images/bg.png');
  background-repeat: no-repeat;
  background-position: top center;
  background-size: cover;   
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  min-height: 100vh;
  overflow-x: hidden; /* Prevent horizontal scroll */
}


/* ----------navigation---------- */
nav{
  position: relative;
  width: 100%;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 25px;
}

.navbar{
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.menu{
  position: relative;
  display: flex;
  justify-content: center;
  flex-direction: row;
  align-items: center;
  z-index: 1;
}

.menu li{
  list-style: none;
}

.menu li a{
  color: #d3d3d3d9;
  text-decoration: none;
  border-radius: 16px;
  background: #ffffff14;
  border: 1px solid #ffffff46;
  box-shadow: 0 8px 32px #00000039;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, 'Noto Sans', sans-serif;
  font-weight: 600;
  font-size: 1.75rem;
  display: block;
  padding: 20px 30px;
  line-height: 1;
  text-align: center;
  margin: 20px;
}

.menu li a:hover{
  color: #ffffff;
  background: #ffffff4b;
  transition: 0.5s;
}

/* ----------hamburger menu---------- */

.hamburger{
  position: absolute;
  width: 30px;
  height: 4px;
  background: #793e8e;
  border-radius: 10px;
  cursor: pointer;
  z-index: 2;
  transition: 0.5s;
}

.hamburger:before, .hamburger:after{
  content:"";
  position: absolute;
  height: 4px;
  right: 0;
  background: #04AA6D;
  border-radius: 10px;
}

.hamburger:before{
  top: -10px;
  width: 20px;
}

.hamburger:after{
  top: 10px;
}

.toggle-menu{
  position: absolute;
  width: 30px;
  height: 100%;
  z-index: 3;
  cursor: pointer;
  opacity: 0;
}

.hamburger, .toggle-menu{
  display: none;
}

.navbar input:checked ~ .hamburger:before{
  top: 0;
  transform: rotate(-45deg);
  width: 30px;
  background-color: var(--cream);
}

.navbar input:checked ~ .hamburger:after{
  top: 0;
  transform: rotate(45deg);
  width: 30px;
  background-color: var(--cream);
}

.navbar input:checked ~ .menu{
  right: 0;
}

/* ----------hamburger menu for tablet/mobile sizes for easier navigation---------- */
@media (max-width: 926px){
  .hamburger, .toggle-menu{
      display: block;
  }
  .navbar{
      padding: 40px;
  }
  .menu{
      justify-content: start;
      flex-direction: column;
      align-items: center;
      position: fixed;
      top: 0;
      right: -100%;
      background: var(white);
      width: 100%;
      height: 100vh;
      padding-top: 150px;
      transition: 0.5s;
  }
  .menu li a{
      color: var(black);
      font-size: 3rem;
      padding: 30px;
  }
}



/* -------------dropdown button ------------------------------- */
.dropbtn {
    background-color: #04AA6D;
    color: white;
    padding: 16px;
    font-size: 16px;
    border: none;
  }
  
  .learning{
    background: #ffffff14;
    color: #d3d3d3d9;
    text-decoration: none;
    border-radius: 16px;
    border: 1px solid #ffffff46;
    box-shadow: 0 8px 32px #00000039;
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, 'Noto Sans', sans-serif;
    font-weight: 600;
    font-size: 1.75rem;
    display: block;
    padding: 20px 30px;
    line-height: 1;
    text-align: center;
    margin: 20px;
    cursor: pointer;
    transition: 0.5s;
  }
  
  .learning:hover{
    color: #ffffff;
    background: #ffffff4b;
  }
  /* The container <div> - needed to position the dropdown content */
  .dropdown {
    position: relative;
    display: inline-block;
    color: #d3d3d3d9;
  
  }
  
  /* Dropdown Content (Hidden by Default) */
  .dropdown-content {
    position: absolute;
    color: #d3d3d3d9;
    text-decoration: none;
    border-radius: 16px;
    background: #ffffff14;
    border: 1px solid #ffffff46;
    box-shadow: 0 8px 32px #00000039;
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, 'Noto Sans', sans-serif;
    font-weight: 600;
    font-size: 1.25rem;
    padding: 10px;
    z-index: 1000;
    min-width: 200px;
  }
  
  /* Links inside the dropdown */
  .dropdown-content a {
    color: #d3d3d3d9;
    padding: 12px 16px;
    text-decoration: none;
    display: block;
    border-radius: 8px;
    transition: 0.3s;
  }
  
  /* Change color of dropdown links on hover */
  .dropdown-content a:hover {
    background-color: #ffffff1a;
    color: #ffffff;
  }
  
  /* Removed hover rules - using click to toggle instead */

  html, body {
    height: 100%;
    margin: 0;
    padding: 0;
  }
  
  /* THIS is the working selector */
  .search-page {
    display: flex;
    justify-content: center;   /* horizontal center */
    align-items: center;       /* vertical center */
    min-height: 50vh;          /* half screen height */
    box-sizing: border-box;
    padding: 1rem;             /* optional: avoid content flush with edge */
  }
  /* -------------------search--------------- */


.search-options {
  display: flex;
  justify-content: space-between;
  margin: 1rem -5px
}

.search-form {
  padding: 1rem;
  margin:0;
  border-radius: 8px;
  flex-direction: column;     /* Stack elements vertically */
  box-shadow: 0 0 10px rgba(0,0,0,0.1);
  width: 100%;
  max-width: 625px;
}

.search-container input#search {
  width: 100%;
  font-size: 2rem;
  padding: 1rem 1.5rem;
  border-radius: 10px;
  border: 1.5px solid #ccc;
  box-sizing: border-box;
}

.search-container {
  display: flex;
  align-items: center;
  gap: 0.5rem;        /* spacing between input and button */
}

#search {
  flex: 1;
  font-size: 2rem;
  padding: 1rem 1.5rem;
  border-radius: 16px;          /* updated radius */
  background: #ffffff2f;        /* semi-transparent white background */
  border: 1px solid #ffffff46;  /* subtle white border */
  box-shadow: 0 8px 32px #00000039; /* shadow for depth */
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  color: #fffffff1;             /* text color */
  text-decoration: none;
  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, 'Noto Sans', sans-serif;
  box-sizing: border-box;
  border-style: solid;
}

#search-type {
  color: #d3d3d3d9;
  text-decoration: none;
  border-radius: 16px;
  background: #ffffff14;
  border: 1px solid #ffffff46;
  box-shadow: 0 8px 32px #00000039;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, 'Noto Sans', sans-serif;
  padding: 0.5rem 1rem;      /* keep small padding for consistent size */
  font-size: 1rem;           /* keep original font size */
  width: auto;    
  outline: none;
  cursor: pointer;
}

@media screen and (max-width: 69.99em) {
   .search-form {
        max-width: 100vw;
        padding: 0 8px
    }

    .top-bar #search-container {
        width: 100%;
        border-radius: 16px;
    }

    .top-bar #search {
        max-width: none
    }

    #search-options {
        display: flex;
        margin: 0;
        padding: 0.5rem 8px 0;
        width: 100%
    }

    #search-options select {
        width: 33.33%
    }

}

/* Clear button styling */
.clear-search-toggle {
  background: none;
  border: none;
  padding: 0.5rem;
  cursor: pointer;
  color: #d3d3d3d9;
  display: none;
  transition: color 0.3s ease;
}

.clear-search-toggle:hover {
  color: #ffffff;
}

.clear-search-toggle svg {
  fill: currentColor;
}
/* ===== Center top menu + keep dropdown visible ===== */
nav {
  display: flex;
  align-items: center;
  justify-content: center; /* center the whole nav row */
  gap: 24px;
  width: 100%;
  max-width: 100vw; /* Prevent nav from exceeding viewport */
}

.logo { 
  flex: 0 0 auto;
  visibility: hidden; /* Hide logo but maintain space for centering */
  width: 65px; /* Maintain logo width for proper spacing */
}

.navbar {
  flex: 0 0 auto;
  display: flex;
  justify-content: center;
  overflow: visible !important; /* Ensure dropdown can show */
}

.menu {
  display: flex;
  justify-content: center;  /* center items inside the menu */
  align-items: center;
  gap: 16px;
  margin: 0 auto;
  padding: 0;
  list-style: none;
  overflow: visible;        /* don’t clip dropdown */
}

/* Dropdown: anchor content to center under the button */
.dropdown { position: relative; }
.dropdown-content {
  position: absolute;
  top: calc(100% + 8px);
  left: 50%;
  transform: translateX(-50%);  /* center under trigger */
  z-index: 1000;                 /* float above page */
  min-width: 220px;              /* readable width */
  overflow: visible;
}

/* ===== Rounder controls (PILL by default) ===== */
:root { --ui-radius: 9999px; } /* set to 12px/16px if you want less round later */

button,
.button,
.menu a,
.dropdown .learning,
input[type="search"],
input[type="number"],
select {
  border-radius: var(--ui-radius, 12px);
}

/* Optional: make pills for menu links */
.menu a,
.dropdown .learning {
  padding: 8px 14px;
  display: inline-block;
}

/* ===== Final overrides so ID/earlier rules don't win ===== */
#search,
#search-type {
  border-radius: var(--ui-radius, 12px) !important;
}

.menu li a,
.dropdown .learning {
  border-radius: var(--ui-radius, 12px) !important;
}
/* ==== Click-to-toggle dropdown (override hover behavior) ==== */
/* Removed - using the fade animation version below instead */

/* Removed hover rule - using click to toggle */

/* Keep it on top of the page content */
.dropdown-content { z-index: 1000; }
/* ==== Simple dropdown styles ==== */
.dropdown { 
  position: relative; 
}

.dropdown-content {
  position: absolute;
  top: calc(100% + 8px);
  left: 50%;
  transform: translateX(-50%);
  display: none; /* Hidden by default */
  z-index: 1010;
}

/* Show dropdown when open */
.dropdown.open .dropdown-content {
  display: block !important;
}
/* If you still have an old hover rule that auto-opens the menu, delete it:
   .dropdown:hover .dropdown-content { display: block; } */

/* Apple-style blur backdrop when menu is open */
.menu-backdrop {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 999;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s ease;
  backdrop-filter: blur(0px) saturate(100%);
  -webkit-backdrop-filter: blur(0px) saturate(100%);
  background: rgba(0, 0, 0, 0);
}

.menu-backdrop.active {
  opacity: 1;
  pointer-events: auto;
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  background: rgba(0, 0, 0, 0.3);
}

/* Ensure dropdown is above backdrop */
.dropdown-content {
  z-index: 1010 !important;
}

/* Keep navigation above backdrop */
header, nav, .menu, .dropdown {
  position: relative;
  z-index: 1002;
}
/* Normalize nav pills (links + the "Learning" button) */
.navbar .menu a,
.navbar .menu .learning {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;

  height: 44px;             /* same vertical thickness */
  padding: 0 18px;           /* same side padding */
  border-radius: 9999px;

  font: inherit;
  font-weight: 600;
  line-height: 1;

  border: 1px solid rgba(255,255,255,.18);
  background: rgba(255,255,255,.06);
  color: #fff;
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);

  appearance: none;
  -webkit-appearance: none;
  margin: 0;                 /* kill default button margin in some UAs */
  cursor: pointer;
}

/* Hover state consistent with links */
/* --- NAV PILL NORMALIZER -------------------------------------------- */
.navbar .menu a,
.navbar .menu .nav-pill {          /* <—  add .nav-pill to dropdown button */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;

  height: 46px;                   /* = thickness fix for "Learning" */
  padding: 0 22px;
  border-radius: 9999px;

  font: inherit;
  font-weight: 600;
  line-height: 1;
  letter-spacing: .2px;

  border: 1px solid rgba(255,255,255,.18);
  background: rgba(255,255,255,.06);
  color: #fff;
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  cursor: pointer;
  text-decoration: none;
  transition: background .15s ease, border-color .15s ease;
}

.navbar .menu a:hover,
.navbar .menu .nav-pill:hover {
  background: rgba(255,255,255,.12);
  border-color: rgba(255,255,255,.28);
}

/* OPTIONAL: equal pill width – uncomment if desired */
/* .navbar .menu a, .navbar .menu .nav-pill { width: 128px; } */

/* --- NAV POSITION: push entire bar a little lower ------------------- */
header {
  width: 100%;
  overflow-x: hidden; /* Prevent header overflow */
}

header nav{
  margin-top: 40px;               /* Restored proper spacing */
  position: relative;
}
/* keeps mobile hamburger aligned */
@media (max-width: 640px){
  header nav{ margin-top: 24px; }
}

/* If you want **exact same width** for every pill, uncomment one of these: */
/* Equal minimum width (still grows if text is longer) */
/* .navbar .menu a, .navbar .menu .learning { min-width: 110px; } */

/* Hard equal width for all pills */
/* .navbar .menu a, .navbar .menu .learning { width: 120px; } */
/* Latin UI uses system fonts */
body {
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
}

/* Use Unicode Gurmukhi fonts only where needed */
.gurmukhi,
.gurbani-font,
[lang="pa"],
.raag-name,
.result-gurmukhi,
.gurmukhi-text,
input.gurbani-font {
  font-family: "Noto Sans Gurmukhi", "Kohinoor Gurmukhi", "Anek Gurmukhi", sans-serif !important;
}
/* === DROPDOWN SAFETY OVERRIDES (keep submenu visible when open) === */
header .dropdown { position: relative; }
header .dropdown-content {
  position: absolute;
  top: calc(100% + 8px);
  left: 50%;
  transform: translateX(-50%);
  min-width: 220px;
  z-index: 2001 !important;     /* above any backdrops */
  display: none !important;
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transition: opacity .18s ease, transform .18s ease, visibility 0s linear .18s;
}
header .dropdown.open .dropdown-content {
  display: block !important;
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
  transform: translateX(-50%) translateY(0);
}
/* === FINAL SITE-WIDE DROPDOWN OVERRIDE ============================== */
/* Keep the panel centered under the "Learning" pill and visible when open */
.dropdown { position: relative; }

.dropdown > .dropdown-content {
  position: absolute;
  top: calc(100% + 8px);
  left: 50%;
  transform: translateX(-50%) translateY(6px) scale(.98);
  min-width: 220px;
  z-index: 2001;

  /* default hidden */
  display: none !important;
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transition: opacity .18s ease, transform .18s ease, visibility 0s linear .18s;
}

/* OPEN state — force visible regardless of earlier CSS */
.dropdown.open > .dropdown-content {
  display: block !important;
  opacity: 1 !important;
  visibility: visible !important;
  pointer-events: auto !important;
  transform: translateX(-50%) translateY(0) scale(1) !important;
}

/* If a page left the HTML `hidden` attribute on, still show it when open */
.dropdown.open > .dropdown-content[hidden] {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
  pointer-events: auto !important;
}
/* Ensure the submenu actually shows when .open is set */
.dropdown.open > .dropdown-content {
  display: block !important;
  opacity: 1 !important;
  visibility: visible !important;
  pointer-events: auto !important;
  z-index: 2001;
}
/* ==== DROPDOWN VISIBILITY HOTFIX (canonical rules; wins the cascade) ==== */
header .dropdown { position: relative; }

header .dropdown-content{
  position: absolute;
  top: calc(100% + 8px);
  left: 50%;
  transform: translateX(-50%);
  /* default hidden */
  display: none !important;
  opacity: 0 !important;
  visibility: hidden !important;
  pointer-events: none !important;
  z-index: 2001 !important;     /* above backdrop and header */
}

header .dropdown.open .dropdown-content{
  display: block !important;
  opacity: 1 !important;
  visibility: visible !important;
  pointer-events: auto !important;
  transform: translateX(-50%) translateY(0);
}
/* NAV-ONLY dropdown visibility (scoped; won't touch anything else) */
header nav .menu .dropdown { position: relative; }

header nav .menu .dropdown > .dropdown-content {
  position: absolute;
  top: calc(100% + 8px);
  left: 50%;
  transform: translateX(-50%) translateY(6px);
  min-width: 220px;
  z-index: 3000 !important;

  /* always laid out; hide via visibility to avoid display:none fights */
  display: block !important;
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transition: opacity .18s ease, transform .18s ease, visibility 0s linear .18s;
}

header nav .menu .dropdown.open > .dropdown-content {
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
  transform: translateX(-50%) translateY(0);
}
/* === Dropdown: rounder panel + precise placement under the pill === */
header .menu .dropdown { position: relative; }

header .menu .dropdown.open > .dropdown-content{
  /* placement */
  position: absolute !important;
  top: calc(100% + 10px) !important;   /* just below the pill */
  left: 50% !important;
  transform: translateX(-50%) !important;

  /* shape & look */
  border-radius: 20px !important;      /* rounder panel */
  padding: 8px !important;             /* breathing room */
  box-shadow: 0 16px 48px rgba(0,0,0,.35) !important;
  backdrop-filter: blur(12px) saturate(140%) !important;
  -webkit-backdrop-filter: blur(12px) saturate(140%) !important;
}

/* Round the individual items a bit more too */
header .menu .dropdown.open > .dropdown-content a{
  border-radius: 12px !important;
  padding: 10px 14px !important;
  display: block;                        /* keep vertical stack */
} 
/* Lift nav above all glass/blur layers */
header,
header nav,
header .menu {
  position: relative;
  z-index: 5000 !important;   /* higher than any content/hero/carousel */
}

/* Keep the Learning panel on top of everything */
header .menu .dropdown.open > .dropdown-content {
  z-index: 6000 !important;   /* above header + any backdrops */
}
/* Canonical dropdown: anchored under the Learning pill, above any blur */
header,
header nav,
header .menu { position: relative; z-index: 5000 !important; }

.menu-backdrop { z-index: 3500 !important; }            /* stays under header */

header .menu .dropdown > .dropdown-content{
  position: absolute !important;
  top: calc(100% + 8px) !important;                     /* just below pill */
  left: 50% !important;
  transform: translateX(-50%) !important;
  display: none !important;

  /* anti-scrollbox guarantees */
  height: auto !important;
  max-height: none !important;
  overflow: visible !important;

  /* make panel rounder */
  border-radius: 18px !important;
  padding: 10px 0;                                      /* nicer interior space */
  z-index: 6000 !important;                             /* above header */
}

header .menu .dropdown.open > .dropdown-content{
  display: block !important;
  opacity: 1 !important;
  visibility: visible !important;
  pointer-events: auto !important;
}
/* === Canonical dropdown visibility (single source of truth) === */
header nav .menu .dropdown { position: relative; }

header nav .menu .dropdown > .dropdown-content {
  position: absolute;
  top: calc(100% + 8px);
  left: 50%;
  transform: translateX(-50%) translateY(6px);
  /* default hidden */
  display: none !important;
  opacity: 0 !important;
  visibility: hidden !important;
  pointer-events: none !important;
  z-index: 6000 !important; /* above header/backdrops */
  transition: opacity .18s ease, transform .18s ease, visibility 0s linear .18s;
}

header nav .menu .dropdown.open > .dropdown-content {
  display: block !important;
  opacity: 1 !important;
  visibility: visible !important;
  pointer-events: auto !important;
  transform: translateX(-50%) translateY(0) !important;
}

/* Keep the navigation itself above page chrome */
header, header nav, header .menu { position: relative; z-index: 5000 !important; }
/* --- Dropdown/toolbar click-through hardening (non-visual) --- */
header, nav, .navbar, .menu { position: relative; z-index: 1000; }

/* Backdrop exists but shouldn't eat clicks unless menu is open */
#menu-backdrop, .menu-backdrop {
  position: fixed;
  inset: 0;
  z-index: 1000;
  background: transparent;
  pointer-events: none;
}
#menu-backdrop.active, .menu-backdrop.active { pointer-events: auto; }

/* Dropdown panel only interactive when open; otherwise has NO hitbox */
.dropdown .dropdown-content {
  position: fixed;
  left: var(--dd-left, 0); top: var(--dd-top, 0);
  transform: translateX(-50%);
  display: none;             /* <-- no layout when closed */
  pointer-events: none;      /* <-- no clicks when closed */
  z-index: 1100;             /* below the reader toolbar (1200) */
}
.dropdown.open .dropdown-content {
  display: block;
  pointer-events: auto;
}

/* The right-hand reader/ang toolbar always sits on top */
.shabad-toolbar { z-index: 1200; pointer-events: auto; }
/* =======================
   FIX: Lock the top menu
   ======================= */

/* Single source of truth for header height (tweak if your header is taller/shorter) */
:root {
  --header-height: 72px;
}



/* Ensure the nav row itself does not create its own scrollable area */
nav, .navbar, .menu {
  overflow: visible !important;
  max-width: 100%;
  white-space: normal;           /* no accidental horizontal scrolling */
}

/* Prevent the menu list from turning into a sideways scroller on narrow widths */
.menu {
  display: flex;
  flex-wrap: nowrap;
  gap: 10px;
}

/* Keep the page from shifting horizontally at any breakpoint */
html, body {
  overflow-x: hidden;
}

/* =========================
   Dropdown anchoring & UX
   ========================= */

/* The dropdown panel should be anchored to the viewport, not the scrolled content */
.dropdown .dropdown-content {
  position: fixed;                         /* key: fixes the “sliding” with page scroll */
  left: var(--dd-left, 50%);               /* set by js/menu.js on open() */
  top:  var(--dd-top, 72px);               /* set by js/menu.js on open() */
  transform: translateX(-50%);             /* center under trigger */
  min-width: 220px;
  z-index: 1300;
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  display: block;                          /* we’ll control visibility via opacity/visibility */
}

/* When .dropdown gets .open (menu.js), make the panel clickable & visible */
.dropdown.open .dropdown-content {
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
}

/* Backdrop used by menu.js to catch outside clicks — must NOT block UI when inactive */
.menu-backdrop {
  position: fixed;
  inset: 0;
  z-index: 1200;            /* below panel (1300), above header (1000) */
  background: transparent;  /* you can add a faint tint if you like */
  pointer-events: none;     /* IMPORTANT: don’t block clicks unless active */
}
.menu-backdrop.active {
  pointer-events: auto;     /* only when a dropdown is open */
}

/* Optional: nudge main content down slightly so it doesn’t hide under the sticky header
   (Most pages already have spacing; enable if you see content touching the header.) */
/*
main, .page-shell, #raag-carousel, #gurbani-container {
  scroll-margin-top: calc(var(--header-height) + 12px);
}
*/