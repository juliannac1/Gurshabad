<!DOCTYPE html>
<html lang="pa">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Raag Sections</title>
  <link rel="stylesheet" href="../normalize.css">
  <link rel="stylesheet" href="../screen.css">
  <link rel="stylesheet" href="../css/sections-grid.css">
</head>
<body class="gurbani-font">
  <!-- reuse your header/nav -->
 <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gurshabad — Sections</title>

  <!-- Use root-level CSS with correct relative paths -->
  <link rel="stylesheet" href="../normalize.css">
  <link rel="stylesheet" href="../screen.css">
  <link rel="stylesheet" href="../css/sections-grid.css">

  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 128 128'><rect width='128' height='128' rx='24' fill='%230a0a0a'/><text x='50%25' y='62%25' dominant-baseline='middle' text-anchor='middle' font-family='Arial, Helvetica, sans-serif' font-size='80' fill='%23b3d9ff'>G</text></svg>">
</head>
<body>
  <!-- Standard header/nav (same structure as index/about/reader) -->
  <header>
    <nav>
      <div class="logo">
        <a href="../index.html"><img alt="logo" width="65" src=""></a>
      </div>
      <div class="navbar">
        <input type="checkbox" class="toggle-menu">
        <div class="hamburger"></div>

        <ul class="menu">
          <li><a href="../index.html">Home</a></li>

          <!-- Learning dropdown (click-to-toggle; menu.js removes [hidden]) -->
          <li>
            <div class="dropdown">
              <button class="learning nav-pill" aria-haspopup="true" aria-expanded="false">Learning</button>
              <div class="dropdown-content" role="menu" hidden>
                <a href="../unlearning.html" role="menuitem">Unlearning</a>
                <a href="../principles.html" role="menuitem">Principles</a>
                <a href="../courses.html" role="menuitem">Courses</a>
              </div>
            </div>
          </li>

          <!-- New items between Learning and About -->
          <li><a href="../guide.html">Guide</a></li>
          <li><a href="../flow-map.html">Flow-map</a></li>
          <li><a href="../articles.html">Articles</a></li>

          <!-- About on the far right -->
          <li><a href="../about.html">About</a></li>
        </ul>
      </div>
    </nav>
  </header>

  <!-- Page content -->
  <main class="sections-wrap">
    <h1 id="raag-title" class="raag-title">…</h1>
    <div id="tiles" class="tiles-grid" aria-live="polite"></div>
  </main>

  <!-- Scripts (order matters). menu.js must be included here -->
  <script src="../js/sections.js"></script>
  <script src="../js/search.js"></script>
  <script src="../js/menu.js"></script>
</body>
</html>
<script>
/* Dropdown failsafe (sections page only) */
(function () {
  if (window.__menuFailsafeBound) return;
  window.__menuFailsafeBound = true;

  // Ensure hidden attribute doesn't keep it invisible
  document.querySelectorAll('.dropdown .dropdown-content[hidden]')
    .forEach(el => el.removeAttribute('hidden'));

  // Delegate clicks: toggle current, close others
  document.addEventListener('click', function (e) {
    const btn = e.target.closest('.dropdown .learning');
    const anyOpen = document.querySelector('.dropdown.open');

    if (btn) {
      e.preventDefault(); e.stopPropagation();
      const dd = btn.closest('.dropdown');
      if (anyOpen && anyOpen !== dd) anyOpen.classList.remove('open');
      dd.classList.toggle('open');
      return;
    }
    if (!e.target.closest('.dropdown') && anyOpen) {
      anyOpen.classList.remove('open');
    }
  });

  // Close on Escape
  document.addEventListener('keydown', function (e) {
    if (e.key === 'Escape') {
      const anyOpen = document.querySelector('.dropdown.open');
      if (anyOpen) anyOpen.classList.remove('open');
    }
  });
})();
</script>